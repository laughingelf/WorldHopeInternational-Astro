---
const galleryImages = [
  "/img/galleryimg.jpeg",
  "/img/clinic.jpeg",
  "/img/food.jpeg",
  "/img/hut-img.jpeg",
  "/img/pastor.jpg",
  "/img/clinic2.jpeg",
];
---

<section class="bg-green-50 py-20 px-6 md:px-12">
  <div class="max-w-6xl mx-auto text-center">
    <h2
      class="text-4xl md:text-5xl font-bold text-green-900 mb-6 reveal"
      data-reveal="up"
    >
      Moments of Hope
    </h2>

    <p
      class="text-lg text-green-800 max-w-2xl mx-auto mb-12 reveal"
      data-reveal="up"
      style="--reveal-delay: 80ms;"
    >
      See the heart of our mission in action through clinics, classrooms, fields,
      and faith coming to life.
    </p>

    <!-- Image Grid -->
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 mb-12">
      {galleryImages.map((src, index) => (
        <div
          class="w-full h-64 rounded overflow-hidden shadow-lg reveal"
          data-reveal="up"
          style={`--reveal-delay: ${index * 90}ms;`}
        >
          <img
            src={src}
            alt={`Word Hope mission gallery image ${index + 1}`}
            class="gallery-img w-full h-full object-cover"
            loading="lazy"
          />
        </div>
      ))}
    </div>

    <!-- CTA -->
    <div class="reveal" data-reveal="up" style="--reveal-delay: 200ms;">
      <a
        href="/gallery"
        class="inline-block bg-[#e01b24] hover:bg-red-800 text-white px-6 py-3 rounded-md text-lg font-semibold transition focus:outline-none focus:ring-2 focus:ring-[#e01b24]/40 focus:ring-offset-2 active:scale-[0.97]"
      >
        View Full Gallery
      </a>
    </div>
  </div>
</section>

<script>
  const prefersReduced = window.matchMedia("(prefers-reduced-motion: reduce)").matches;

  const els = document.querySelectorAll(".reveal");
  if (!prefersReduced) {
    const io = new IntersectionObserver(
      (entries) => {
        entries.forEach((e) => {
          if (e.isIntersecting) {
            e.target.classList.add("is-visible");
            io.unobserve(e.target);
          }
        });
      },
      { threshold: 0.2 }
    );
    els.forEach((el) => io.observe(el));
  } else {
    els.forEach((el) => el.classList.add("is-visible"));
  }
</script>

<style>
  /* Move image focal point DOWN */
  .gallery-img {
    object-position: center 10%;
  }

  .reveal {
    opacity: 0;
    transform: translateY(16px);
    transition: opacity 600ms ease, transform 600ms ease;
    transition-delay: var(--reveal-delay, 0ms);
  }

  .reveal.is-visible {
    opacity: 1;
    transform: translateY(0);
  }

  @media (prefers-reduced-motion: reduce) {
    .reveal {
      opacity: 1 !important;
      transform: none !important;
      transition: none !important;
    }
  }
</style>
