---
import BaseLayout from "../../layouts/BaseLayout.astro";
import Hero from "../../components/shared/Hero.astro";

const seo = {
  title: "Donation Cancelled",
  description:
    "Your donation was not completed. If this was a mistake, you can safely try again or explore how Word Hope International is making an impact in Tanzania.",
};

const hero = {
  heading: "Donation Cancelled",
  subheading:
    "No worries. Your payment was not completed. If you‚Äôd like, you can try again or keep exploring the mission.",
  primaryCtaText: "Try Again",
  primaryCtaLink: "/donate",
  secondaryCtaText: "View Programs",
  secondaryCtaLink: "/programs",
  backgroundImage: "/img/donate-hero.jpeg", // swap if needed
};
---

<BaseLayout hero={true} seo={seo}>
  <Hero {...hero} />

  <section class="bg-red-50 py-16 px-6 md:px-12">
    <div class="max-w-4xl mx-auto">
      <div class="rounded-2xl border border-red-100 bg-white shadow-sm p-8 md:p-10 text-center reveal" data-reveal="up">
        <div class="mx-auto mb-4 inline-flex h-14 w-14 items-center justify-center rounded-full bg-red-100 text-red-900">
          <span class="text-2xl" aria-hidden="true">‚ö†Ô∏è</span>
          <span class="sr-only">Cancelled</span>
        </div>

        <h1 class="text-3xl md:text-4xl font-extrabold text-red-900">
          Payment Not Completed
        </h1>

        <p class="mt-3 text-lg text-red-800">
          It looks like the donation process was cancelled or interrupted.
          <span class="block mt-1">No charges were made.</span>
        </p>

        <div class="mt-6 rounded-xl border border-red-100 bg-red-50 p-5 text-left">
          <h2 class="text-sm font-semibold text-red-900">What you can do</h2>
          <ul class="mt-3 space-y-2 text-sm text-red-800">
            <li class="flex gap-2">
              <span class="mt-0.5">üîÅ</span>
              <span>Try again. Sometimes payments fail due to browser, network, or card issues.</span>
            </li>
            <li class="flex gap-2">
              <span class="mt-0.5">üí≥</span>
              <span>Use a different card or device if you continue to have trouble.</span>
            </li>
            <li class="flex gap-2">
              <span class="mt-0.5">üí¨</span>
              <span>
                Need help? Email{" "}
                <a
                  href="mailto:wordhopeint@gmail.com"
                  class="font-semibold underline hover:opacity-80"
                >
                  wordhopeint@gmail.com
                </a>
                .
              </span>
            </li>
          </ul>
        </div>

        <div class="mt-8 flex flex-col sm:flex-row items-center justify-center gap-3">
          <a
            href="/donate"
            class="inline-flex w-full sm:w-auto items-center justify-center rounded-xl bg-[#e01b24] px-6 py-3 font-semibold text-white hover:bg-red-800 transition focus:outline-none focus:ring-2 focus:ring-[#e01b24]/40 focus:ring-offset-2 active:scale-[0.98]"
          >
            Return to Donate
          </a>

          <a
            href="/"
            class="inline-flex w-full sm:w-auto items-center justify-center rounded-xl border border-red-200 px-6 py-3 font-semibold text-red-900 hover:bg-red-50 transition focus:outline-none focus:ring-2 focus:ring-red-200 focus:ring-offset-2 active:scale-[0.98]"
          >
            Back to Home
          </a>
        </div>

        <p class="mt-6 text-xs text-red-700">
          Secure checkout is powered by Stripe. Your payment information is never stored on our servers.
        </p>
      </div>

      <div class="mt-8 rounded-2xl border border-red-100 bg-white p-6 shadow-sm text-center reveal" data-reveal="up" style="--reveal-delay: 120ms;">
        <p class="text-red-900 font-semibold">Still want to see what your support fuels?</p>
        <p class="mt-1 text-sm text-red-700">
          Follow the progress on the ground and see the mission moving forward.
        </p>
        <a
          href="/project-updates"
          class="mt-4 inline-flex items-center justify-center rounded-xl border border-red-200 bg-red-50 px-5 py-2.5 text-sm font-semibold text-red-900 hover:bg-red-100 transition focus:outline-none focus:ring-2 focus:ring-red-200 focus:ring-offset-2 active:scale-[0.98]"
        >
          See Project Updates
        </a>
      </div>
    </div>
  </section>

  <script is:inline>
    const prefersReduced = window.matchMedia("(prefers-reduced-motion: reduce)").matches;
    const els = document.querySelectorAll(".reveal");
    if (!prefersReduced) {
      const io = new IntersectionObserver(
        (entries) => {
          entries.forEach((e) => {
            if (e.isIntersecting) {
              e.target.classList.add("is-visible");
              io.unobserve(e.target);
            }
          });
        },
        { threshold: 0.18 }
      );
      els.forEach((el) => io.observe(el));
    } else {
      els.forEach((el) => el.classList.add("is-visible"));
    }
  </script>

  <style>
    .reveal {
      opacity: 0;
      transform: translateY(16px);
      transition: opacity 600ms ease, transform 600ms ease;
      transition-delay: var(--reveal-delay, 0ms);
      will-change: opacity, transform;
    }

    .reveal.is-visible {
      opacity: 1;
      transform: translateY(0);
    }

    @media (prefers-reduced-motion: reduce) {
      .reveal {
        opacity: 1 !important;
        transform: none !important;
        transition: none !important;
      }
    }
  </style>
</BaseLayout>
